{"version":3,"sources":["webpack://cv-site-rafal-gulewski/./node_modules/emailjs-com/es/store/store.js","webpack://cv-site-rafal-gulewski/./node_modules/emailjs-com/es/methods/init/init.js","webpack://cv-site-rafal-gulewski/./node_modules/emailjs-com/es/utils/validateParams.js","webpack://cv-site-rafal-gulewski/./node_modules/emailjs-com/es/models/EmailJSResponseStatus.js","webpack://cv-site-rafal-gulewski/./node_modules/emailjs-com/es/api/sendPost.js","webpack://cv-site-rafal-gulewski/./node_modules/emailjs-com/es/index.js","webpack://cv-site-rafal-gulewski/./node_modules/emailjs-com/es/methods/send/send.js","webpack://cv-site-rafal-gulewski/./src/scripts/email.js","webpack://cv-site-rafal-gulewski/./src/pages/contact.js"],"names":["store","_origin","init","userID","origin","arguments","length","undefined","_userID","validateParams","serviceID","templateID","EmailJSResponseStatus","httpResponse","this","status","text","responseText","sendPost","url","data","headers","Promise","resolve","reject","xhr","XMLHttpRequest","addEventListener","_ref","target","responseStatus","_ref2","open","Object","keys","forEach","key","setRequestHeader","send","templatePrams","uID","params","lib_version","user_id","service_id","template_id","template_params","JSON","stringify","n","c","t","cb","emailjs","name","contact","message","then","response","console","log","error","Contact","pageTitle","children","language","useI18next","sendButton","className","Trans","ContactForm","useState","sf","setSF","ef","setEF","mf","setMF","badN","setBadN","badK","setBadK","badW","setBadW","e","setE","eb","setEB","styleBlured","borderColor","styleFocused","boxShadow","styleBadBlured","styleBadFocused","emailCB","res","style","top","onClick","onKeyPress","role","tabIndex","onSubmit","approver","preventDefault","v","value","test","String","toLowerCase","sendToMe","htmlFor","id","type","onBlur","onFocus","Layout","backgroundImage","background","s"],"mappings":"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","file":"component---src-pages-contact-js-5dcc56773203e68863d5.js","sourcesContent":["export var store = {\n  _origin: 'https://api.emailjs.com'\n};","import { store } from '../../store/store';\n/**\n * Initiation\n * @param {string} userID - set the EmailJS user ID\n * @param {string} origin - set the EmailJS origin\n */\n\nexport var init = function init(userID) {\n  var origin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'https://api.emailjs.com';\n  store._userID = userID;\n  store._origin = origin;\n};","export var validateParams = function validateParams(userID, serviceID, templateID) {\n  if (!userID) {\n    throw 'The user ID is required. Visit https://dashboard.emailjs.com/admin/integration';\n  }\n\n  if (!serviceID) {\n    throw 'The service ID is required. Visit https://dashboard.emailjs.com/admin';\n  }\n\n  if (!templateID) {\n    throw 'The template ID is required. Visit https://dashboard.emailjs.com/admin/templates';\n  }\n\n  return true;\n};","import _classCallCheck from \"D:/Projekty/CV-site/my-site/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nexport var EmailJSResponseStatus = function EmailJSResponseStatus(httpResponse) {\n  _classCallCheck(this, EmailJSResponseStatus);\n\n  this.status = httpResponse.status;\n  this.text = httpResponse.responseText;\n};","import { EmailJSResponseStatus } from '../models/EmailJSResponseStatus';\nimport { store } from '../store/store';\nexport var sendPost = function sendPost(url, data) {\n  var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.addEventListener('load', function (_ref) {\n      var target = _ref.target;\n      var responseStatus = new EmailJSResponseStatus(target);\n\n      if (responseStatus.status === 200 || responseStatus.text === 'OK') {\n        resolve(responseStatus);\n      } else {\n        reject(responseStatus);\n      }\n    });\n    xhr.addEventListener('error', function (_ref2) {\n      var target = _ref2.target;\n      reject(new EmailJSResponseStatus(target));\n    });\n    xhr.open('POST', store._origin + url, true);\n    Object.keys(headers).forEach(function (key) {\n      xhr.setRequestHeader(key, headers[key]);\n    });\n    xhr.send(data);\n  });\n};","import { init } from './methods/init/init';\nimport { send } from './methods/send/send';\nimport { sendForm } from './methods/sendForm/sendForm';\nexport { init, send, sendForm };\nexport default {\n  init: init,\n  send: send,\n  sendForm: sendForm\n};","import { store } from '../../store/store';\nimport { validateParams } from '../../utils/validateParams';\nimport { sendPost } from '../../api/sendPost';\n/**\n * Send a template to the specific EmailJS service\n * @param {string} serviceID - the EmailJS service ID\n * @param {string} templateID - the EmailJS template ID\n * @param {object} templatePrams - the template params, what will be set to the EmailJS template\n * @param {string} userID - the EmailJS user ID\n * @returns {Promise<EmailJSResponseStatus>}\n */\n\nexport var send = function send(serviceID, templateID, templatePrams, userID) {\n  var uID = userID || store._userID;\n  validateParams(uID, serviceID, templateID);\n  var params = {\n    lib_version: '3.1.0',\n    user_id: uID,\n    service_id: serviceID,\n    template_id: templateID,\n    template_params: templatePrams\n  };\n  return sendPost('/api/v1.0/email/send', JSON.stringify(params), {\n    'Content-type': 'application/json'\n  });\n};","\r\nimport emailjs, { init } from 'emailjs-com';\r\n\r\nconst s = `service_s0jpo85`; //user\r\nconst te = `template_iz6oc6i`;  //templateID\r\n\r\ninit(\"user_lG5W3wj2ZN3A6GrmqidIe\");\r\n\r\nconst sendToMe = (n, c, t, cb) => {\r\n   \r\n   //forTesting\r\n   //cb(true);\r\n   //cb(false);\r\n   //return;\r\n   \r\n   var form = {\r\n      name: n,\r\n      contact: c,\r\n      message: t,\r\n   }\r\n\r\n   emailjs.send(s, te, form)\r\n    .then(function(response) {\r\n       console.log('SUCCESS!', response.status, response.text);\r\n       cb(true);\r\n    }, function(error) {\r\n       console.log('FAILED...', error);\r\n       cb(false);\r\n    });\r\n}\r\n\r\nexport default sendToMe;","import React, { useState } from 'react'\r\nimport {graphql} from 'gatsby';\r\nimport '../styles/pageStyle.css'\r\nimport '../styles/contactForm.css'\r\nimport '../scripts/email.js'\r\nimport sendToMe from '../scripts/email.js'\r\nimport {Navbar, NeonAppWindow, ContactList} from '../component/'\r\nimport {Trans, useI18next} from 'gatsby-plugin-react-i18next';\r\nimport background from '../images/bg.jpg'\r\n\r\nimport Layout from '../component/Layout';\r\n\r\nexport default function Contact ({ pageTitle, children })\r\n{\r\n\r\n  const {language} = useI18next();\r\n  const sendButton = {\r\n    \"pl\": \"wyślij\",\r\n    \"en\": \"send\"\r\n  }\r\n\r\n  const contact = <div className='content-window'>\r\n    <span className=\"info-t text-neon-on\"><Trans>cont</Trans><br /><br /></span>\r\n    <ContactList />\r\n  </div> \r\n\r\n  const ContactForm = () => {\r\n\r\n    const c = 'rgb(34, 0, 156)';\r\n\r\n    //focus\r\n    const [sf, setSF] = useState(false);\r\n    const [ef, setEF] = useState(false);\r\n    const [mf, setMF] = useState(false);\r\n    //bad values\r\n    const [badN, setBadN] = useState(false);\r\n    const [badK, setBadK] = useState(false);\r\n    const [badW, setBadW] = useState(false);\r\n    //respond\r\n    const [e, setE] = useState(false);\r\n    const [eb, setEB] = useState(true);\r\n    //styles\r\n    const styleBlured = {borderColor : c}\r\n    const styleFocused = {borderColor : c, boxShadow : \"0px 0px 3px 3px \" + c}\r\n    const styleBadBlured = {borderColor : \"#e70404\"}\r\n    const styleBadFocused = {borderColor : \"#e70404\", boxShadow : \"0px 0px 3px 3px #e70404\"}\r\n\r\n    const checkEmailAdr = (v) => {\r\n      if(v === undefined) return false;\r\n      const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      return re.test(String(v).toLowerCase());\r\n    }\r\n\r\n    const emailCB = (res) => {\r\n      setE(true);\r\n      if(res){\r\n        console.log(\"sended\");\r\n        setEB(true);\r\n      }else{\r\n        console.log(\"error\");\r\n        setEB(false);\r\n      }\r\n    }\r\n\r\n    function sendEmail(e) {\r\n      var approver = true;\r\n      e.preventDefault();\r\n      var n = e.target[0].value;\r\n      var c = e.target[1].value;\r\n      var t = e.target[2].value;\r\n\r\n      if(n.length < 2){\r\n        console.log('bad name');\r\n        setBadN(true);\r\n        approver = false;\r\n      }else{\r\n        setBadN(false);\r\n      }\r\n\r\n      if(!checkEmailAdr(c)){\r\n        console.log(\"bad email\");\r\n        setBadK(true);\r\n        approver = false;\r\n      }else{\r\n        setBadK(false);\r\n      }\r\n\r\n      if(t.length < 20){\r\n        console.log('bad message');\r\n        setBadW(true);\r\n        approver = false;\r\n      }else{\r\n        setBadW(false);\r\n      }\r\n\r\n      if(approver){\r\n        sendToMe(n, c, t, emailCB);\r\n        console.log(\"approved\")\r\n      }else{\r\n        console.log(\"not approved\")\r\n      }\r\n    }\r\n\r\n    return(\r\n      <>\r\n        <div className=\"form-msg\" style={{top: e ? \"50%\" : \"120%\"}}>\r\n          <NeonAppWindow>\r\n            <div className='content-window'>\r\n              <div className=\"exit text-neon\" \r\n                onClick={() => setE(false)}\r\n                onKeyPress={() => setE(false)}\r\n                role=\"button\" tabIndex={0}>\r\n                x\r\n              </div>\r\n              <Trans>{eb ? \"success\" : \"error\"}</Trans>\r\n            </div>\r\n          </NeonAppWindow>\r\n        </div>\r\n      <form className=\"formCont\" onSubmit={sendEmail}>\r\n        <div className=\"form-sec text-neon-on-blink\"><Trans>contH</Trans></div>\r\n        <div className=\"form-sec\">\r\n          <div>\r\n            <label htmlFor=\"sender\" className={sf ? 'text-neon-on' : '' } ><Trans>contN</Trans></label>\r\n            <input id=\"sender\" type=\"text\" onBlur={() => setSF(false)} onFocus={ () => setSF(true)} style={badN ? sf ? styleBadFocused : styleBadBlured : sf ? styleFocused : styleBlured}/>\r\n            {badN && <div className=\"form-bad\"><Trans>BadN</Trans></div>}\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"email\" className={ef ? 'text-neon-on' : '' } ><Trans>contK</Trans></label>\r\n            <input id=\"email\" type=\"email\" onBlur={() => setEF(false)} onFocus={ () => setEF(true)} style={badK ? ef ? styleBadFocused : styleBadBlured : ef ? styleFocused : styleBlured}/>\r\n            {badK && <div className=\"form-bad\"><Trans>BadK</Trans></div>}\r\n          </div>\r\n        </div>\r\n        <div className=\"form-sec form-b\">\r\n          <label htmlFor=\"message\" className={mf ? 'text-neon-on' : '' } ><Trans>contW</Trans></label>\r\n          <textarea id=\"message\" name=\"message\" onBlur={() => setMF(false)} onFocus={ () => setMF(true)} style={badW ? mf ? styleBadFocused : styleBadBlured : mf ? styleFocused : styleBlured}/>\r\n          {badW && <div className=\"form-bad\"><Trans>BadW</Trans></div>}\r\n        </div>\r\n        <input type=\"submit\" id='submitButton' value={sendButton[language]} />\r\n      </form>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n      <Layout>\r\n        <main>\r\n          <div className=\"background-image\" style={{backgroundImage: `url(${background})`}} />\r\n            <Navbar s=\"Kontakt\" />\r\n            <title>Rafal Gulewski - Kontakt</title>\r\n            <div className=\"content\">\r\n              <div className=\"wdg-c\">\r\n                <NeonAppWindow>\r\n                  {contact}\r\n                </NeonAppWindow>\r\n              </div>\r\n              <div className=\"wdg-contactForm\">\r\n                <NeonAppWindow>\r\n                  <div className='content-window'>\r\n                    <ContactForm />\r\n                  </div>\r\n                </NeonAppWindow>\r\n              </div>\r\n            </div>\r\n        </main>\r\n      </Layout>\r\n  )\r\n}\r\n\r\nexport const query = graphql`\r\n  query($language: String!) {\r\n    locales: allLocale(filter: {language: {eq: $language}}) {\r\n      edges {\r\n        node {\r\n          ns\r\n          data\r\n          language\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;"],"sourceRoot":""}