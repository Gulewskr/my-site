{"version":3,"sources":["webpack://cv-site-rafal-gulewski/./node_modules/emailjs-com/es/store/store.js","webpack://cv-site-rafal-gulewski/./node_modules/emailjs-com/es/methods/init/init.js","webpack://cv-site-rafal-gulewski/./src/scripts/email.js","webpack://cv-site-rafal-gulewski/./src/pages/contact.js"],"names":["store","_origin","init","userID","origin","arguments","length","undefined","_userID","pageTitle","children","language","useI18next","sendButton","contact","className","Trans","ContactForm","onSubmit","e","approver","preventDefault","v","n","target","value","c","t","test","String","toLowerCase","console","log","htmlFor","id","type","name","s","content"],"mappings":"gMAAWA,EAAQ,CACjBC,QAAS,2BCMAC,EAAO,SAAcC,GAC9B,IAAIC,EAASC,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,0BACjFL,EAAMQ,QAAUL,EAChBH,EAAMC,QAAUG,G,QCJlBF,EAAK,8BAEL,I,8BC0GA,EAvGe,SAAC,GAA4B,EAA1BO,UAA0B,EAAfC,SAAgB,IAEpCC,GAAYC,kBAAZD,SACDE,EAAa,CACjB,GAAM,SACN,GAAM,QAIFC,EAAU,gCACd,wBAAMC,UAAU,UAAS,gBAAC,EAAAC,MAAD,aAAmB,2BAAM,4BAClD,gBAAC,KAAD,OAGIC,EAAc,WA6ClB,OACE,wBAAMF,UAAU,WAAWG,SA9B7B,SAAmBC,GACjB,IAAIC,GAAW,EACfD,EAAEE,iBACF,IAjBqBC,EAiBjBC,EAAIJ,EAAEK,OAAO,GAAGC,MAChBC,EAAIP,EAAEK,OAAO,GAAGC,MAChBE,EAAIR,EAAEK,OAAO,GAAGC,WAlBXlB,KADYe,EAqBHI,IAnBP,wJACDE,KAAKC,OAAOP,GAAGQ,iBAmBvBC,QAAQC,IAAI,aACZZ,GAAW,GAGVG,EAAEjB,OAAS,IACZyB,QAAQC,IAAI,YACZZ,GAAW,GAGVO,EAAErB,OAAS,KACZyB,QAAQC,IAAI,eACZZ,GAAW,GAEVA,EAEDW,QAAQC,IAAI,YAEZD,QAAQC,IAAI,kBAMZ,uBAAKjB,UAAU,YAAW,gBAAC,EAAAC,MAAD,eAC1B,uBAAKD,UAAU,YACb,2BACE,yBAAOkB,QAAQ,KAAK,gBAAC,EAAAjB,MAAD,eACpB,yBAAOkB,GAAG,IAAIC,KAAK,UAErB,2BACE,yBAAOF,QAAQ,KAAK,gBAAC,EAAAjB,MAAD,eACpB,yBAAOkB,GAAG,IAAIC,KAAK,WAGvB,uBAAKpB,UAAU,mBACb,yBAAOkB,QAAQ,KAAK,gBAAC,EAAAjB,MAAD,eACpB,4BAAUkB,GAAG,IAAIE,KAAK,aAExB,yBAAOD,KAAK,SAASV,MAAOZ,EAAWF,OAK7C,OACE,gBAAC,KAAD,KACA,4BACI,uBAAKI,UAAU,qBACf,gBAAC,KAAD,CAAQsB,EAAE,YACV,yDACA,uBAAKtB,UAAU,WACb,uBAAKA,UAAU,SACb,gBAAC,KAAD,CAAeuB,QAASxB,KAE1B,uBAAKC,UAAU,mBACb,gBAAC,KAAD,CAAeuB,QAAS,gBAACrB,EAAD,UAI5B,gBAAC,KAAD,MACA,gBAAC,KAAD","file":"component---src-pages-contact-js-0e42b7bb2605d3d2eb47.js","sourcesContent":["export var store = {\n  _origin: 'https://api.emailjs.com'\n};","import { store } from '../../store/store';\n/**\n * Initiation\n * @param {string} userID - set the EmailJS user ID\n * @param {string} origin - set the EmailJS origin\n */\n\nexport var init = function init(userID) {\n  var origin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'https://api.emailjs.com';\n  store._userID = userID;\n  store._origin = origin;\n};","\r\nimport emailjs, { init } from 'emailjs-com';\r\n\r\nconst s = `service_s0jpo85`; //user\r\nconst te = `template_iz6oc6i`;  //templateID\r\n\r\ninit(\"user_lG5W3wj2ZN3A6GrmqidIe\");\r\n\r\nconst sendToMe = (n, c, t, cb) => {\r\n\r\n   console.log(\"???\");\r\n\r\n   var form = {\r\n      name: n,\r\n      contact: c,\r\n      message: t,\r\n   }\r\n\r\n   emailjs.send(s, te, form)\r\n    .then(function(response) {\r\n       console.log('SUCCESS!', response.status, response.text);\r\n       cb(true);\r\n    }, function(error) {\r\n       console.log('FAILED...', error);\r\n       cb(false);\r\n    });\r\n}\r\n\r\nexport default sendToMe;","import * as React from 'react'\r\nimport {graphql} from 'gatsby';\r\nimport '../styles/pageStyle.css'\r\nimport '../styles/contactForm.css'\r\nimport '../scripts/email.js'\r\nimport sendToMe from '../scripts/email.js'\r\nimport {Navbar, NeonAppWindow, ContactList, LanguageSettings, ColorSettings} from '../component/'\r\nimport {Trans, useI18next} from 'gatsby-plugin-react-i18next';\r\nimport ThemeContextProvider from '../component/neonColor';\r\n\r\n// markup\r\nconst Layout = ({ pageTitle, children }) => {\r\n\r\n  const {language} = useI18next();\r\n  const sendButton = {\r\n    \"pl\": \"wy≈õlij\",\r\n    \"en\": \"send\"\r\n  }\r\n\r\n\r\n  const contact = <>\r\n    <span className=\"info-t\"><Trans>cont</Trans><br /><br /></span>\r\n    <ContactList />\r\n  </>\r\n\r\n  const ContactForm = () => {\r\n    \r\n    const checkEmailAdr = (v) => {\r\n      if(v === undefined) return false;\r\n      const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      return re.test(String(v).toLowerCase());\r\n  }\r\n\r\n    const emailCB = (res) => {\r\n      if(res){\r\n        console.log(\"sended\");\r\n      }else{\r\n        console.log(\"error :(\");\r\n      }\r\n    }\r\n\r\n    function sendEmail(e) {\r\n      var approver = true;\r\n      e.preventDefault();\r\n      var n = e.target[0].value;\r\n      var c = e.target[1].value;\r\n      var t = e.target[2].value;\r\n\r\n      if(!checkEmailAdr(c)){\r\n        console.log(\"bad email\");\r\n        approver = false;\r\n      }\r\n\r\n      if(n.length < 2){\r\n        console.log('bad name');\r\n        approver = false;\r\n      }\r\n\r\n      if(t.length < 20){\r\n        console.log('bad message');\r\n        approver = false;\r\n      }\r\n      if(approver){\r\n        //sendToMe(n, c, t, emailCB);\r\n        console.log(\"approved\")\r\n      }else{\r\n        console.log(\"not approved\")\r\n      }\r\n    }\r\n\r\n    return(\r\n      <form className=\"formCont\" onSubmit={sendEmail}>\r\n        <div className=\"form-sec\"><Trans>contH</Trans></div>\r\n        <div className=\"form-sec\">\r\n          <div>\r\n            <label htmlFor=\"n\" ><Trans>contN</Trans></label>\r\n            <input id=\"n\" type=\"text\"/>\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"k\" ><Trans>contK</Trans></label>\r\n            <input id=\"k\" type=\"text\"/>\r\n          </div>\r\n        </div>\r\n        <div className=\"form-sec form-b\">\r\n          <label htmlFor=\"t\" ><Trans>contW</Trans></label>\r\n          <textarea id=\"t\" name=\"message\"/>\r\n        </div>\r\n        <input type=\"submit\" value={sendButton[language]} />\r\n      </form>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <ThemeContextProvider>\r\n    <main>\r\n        <div className=\"background-image\" />\r\n        <Navbar s=\"Kontakt\" />\r\n        <title>Rafal Gulewski - Kontakt</title>\r\n        <div className=\"content\">\r\n          <div className=\"wdg-c\">\r\n            <NeonAppWindow content={contact}/>\r\n          </div>\r\n          <div className=\"wdg-contactForm\">\r\n            <NeonAppWindow content={<ContactForm />}/>\r\n          </div>\r\n        </div>\r\n        \r\n        <LanguageSettings />\r\n        <ColorSettings />\r\n    </main>\r\n    </ThemeContextProvider>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n\r\nexport const query = graphql`\r\n  query($language: String!) {\r\n    locales: allLocale(filter: {language: {eq: $language}}) {\r\n      edges {\r\n        node {\r\n          ns\r\n          data\r\n          language\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;"],"sourceRoot":""}